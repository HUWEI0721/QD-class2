import{r as V,l as b,z as k,B as r,R as o,J as t,W as y,al as n,aB as x,A as B,a4 as R,u as h,O as c}from"./vendor-Kw1AtJDw.js";import{u as z}from"./index-D5g6VmwX.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./elementPlus-CHQYLhPp.js";const C={class:"login-container"},F={class:"login-card"},N={class:"login-footer"},S={__name:"LoginView",setup(U){const g=x(),d=z(),l=V(),s=b({username:"",password:""}),f={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度至少为6位",trigger:"blur"}]},a=async()=>{l.value&&await l.value.validate(async m=>{m&&await d.login(s)&&g.push("/")})};return(m,e)=>{const p=n("el-input"),i=n("el-form-item"),_=n("el-button"),w=n("el-form"),v=n("router-link");return B(),k("div",C,[r("div",F,[e[5]||(e[5]=r("div",{class:"login-header"},[r("h2",null,"欢迎回来"),r("p",null,"登录到班级建设网站")],-1)),o(w,{ref_key:"loginFormRef",ref:l,model:s,rules:f,class:"login-form",onSubmit:y(a,["prevent"])},{default:t(()=>[o(i,{prop:"username"},{default:t(()=>[o(p,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=u=>s.username=u),size:"large",placeholder:"请输入用户名","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),o(i,{prop:"password"},{default:t(()=>[o(p,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=u=>s.password=u),type:"password",size:"large",placeholder:"请输入密码","prefix-icon":"Lock","show-password":"",onKeyup:R(a,["enter"])},null,8,["modelValue"])]),_:1}),o(i,null,{default:t(()=>[o(_,{type:"primary",size:"large",class:"login-button",loading:h(d).loading,onClick:a},{default:t(()=>[...e[2]||(e[2]=[c(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),r("div",N,[e[4]||(e[4]=r("span",null,"还没有账号？",-1)),o(v,{to:"/register",class:"register-link"},{default:t(()=>[...e[3]||(e[3]=[c("立即注册",-1)])]),_:1})])])])}}},I=L(S,[["__scopeId","data-v-628b0ba8"]]);export{I as default};
