import{r as q,l as v,z as U,B as n,R as e,J as o,al as u,aB as P,A as R,u as x,O as g}from"./vendor-Kw1AtJDw.js";import{u as k}from"./index-D5g6VmwX.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./elementPlus-CHQYLhPp.js";const B={class:"register-container"},C={class:"register-card"},Q={class:"register-footer"},F={__name:"RegisterView",setup(N){const _=P(),f=k(),p=q(),r=v({username:"",email:"",full_name:"",student_id:"",password:"",confirmPassword:"",phone:"",qq:"",wechat:"",dormitory:"",hometown:"",bio:""}),V={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在 3 到 20 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],full_name:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度至少为6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:(i,l,t)=>{l!==r.password?t(new Error("两次输入的密码不一致")):t()},trigger:"blur"}]},w=async()=>{p.value&&await p.value.validate(async i=>{if(i){const{confirmPassword:l,...t}=r;await f.register(t)&&_.push("/login")}})};return(i,l)=>{const t=u("el-input"),s=u("el-form-item"),d=u("el-col"),m=u("el-row"),b=u("el-button"),c=u("el-form"),y=u("router-link");return R(),U("div",B,[n("div",C,[l[15]||(l[15]=n("div",{class:"register-header"},[n("h2",null,"创建账号"),n("p",null,"加入我们的班级大家庭")],-1)),e(c,{ref_key:"registerFormRef",ref:p,model:r,rules:V,class:"register-form","label-position":"top"},{default:o(()=>[e(m,{gutter:20},{default:o(()=>[e(d,{span:12},{default:o(()=>[e(s,{label:"用户名",prop:"username"},{default:o(()=>[e(t,{modelValue:r.username,"onUpdate:modelValue":l[0]||(l[0]=a=>r.username=a),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:o(()=>[e(s,{label:"真实姓名",prop:"full_name"},{default:o(()=>[e(t,{modelValue:r.full_name,"onUpdate:modelValue":l[1]||(l[1]=a=>r.full_name=a),placeholder:"请输入真实姓名"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,{label:"邮箱",prop:"email"},{default:o(()=>[e(t,{modelValue:r.email,"onUpdate:modelValue":l[2]||(l[2]=a=>r.email=a),type:"email",placeholder:"请输入邮箱地址"},null,8,["modelValue"])]),_:1}),e(s,{label:"学号",prop:"student_id"},{default:o(()=>[e(t,{modelValue:r.student_id,"onUpdate:modelValue":l[3]||(l[3]=a=>r.student_id=a),placeholder:"请输入学号（可选）"},null,8,["modelValue"])]),_:1}),e(m,{gutter:20},{default:o(()=>[e(d,{span:12},{default:o(()=>[e(s,{label:"密码",prop:"password"},{default:o(()=>[e(t,{modelValue:r.password,"onUpdate:modelValue":l[4]||(l[4]=a=>r.password=a),type:"password",placeholder:"请输入密码","show-password":""},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:o(()=>[e(s,{label:"确认密码",prop:"confirmPassword"},{default:o(()=>[e(t,{modelValue:r.confirmPassword,"onUpdate:modelValue":l[5]||(l[5]=a=>r.confirmPassword=a),type:"password",placeholder:"请再次输入密码","show-password":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(m,{gutter:20},{default:o(()=>[e(d,{span:12},{default:o(()=>[e(s,{label:"手机号",prop:"phone"},{default:o(()=>[e(t,{modelValue:r.phone,"onUpdate:modelValue":l[6]||(l[6]=a=>r.phone=a),placeholder:"请输入手机号（可选）"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:o(()=>[e(s,{label:"QQ号",prop:"qq"},{default:o(()=>[e(t,{modelValue:r.qq,"onUpdate:modelValue":l[7]||(l[7]=a=>r.qq=a),placeholder:"请输入QQ号（可选）"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(m,{gutter:20},{default:o(()=>[e(d,{span:12},{default:o(()=>[e(s,{label:"微信号",prop:"wechat"},{default:o(()=>[e(t,{modelValue:r.wechat,"onUpdate:modelValue":l[8]||(l[8]=a=>r.wechat=a),placeholder:"请输入微信号（可选）"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:o(()=>[e(s,{label:"宿舍",prop:"dormitory"},{default:o(()=>[e(t,{modelValue:r.dormitory,"onUpdate:modelValue":l[9]||(l[9]=a=>r.dormitory=a),placeholder:"请输入宿舍号（可选）"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,{label:"家乡",prop:"hometown"},{default:o(()=>[e(t,{modelValue:r.hometown,"onUpdate:modelValue":l[10]||(l[10]=a=>r.hometown=a),placeholder:"请输入家乡（可选）"},null,8,["modelValue"])]),_:1}),e(s,{label:"个人简介",prop:"bio"},{default:o(()=>[e(t,{modelValue:r.bio,"onUpdate:modelValue":l[11]||(l[11]=a=>r.bio=a),type:"textarea",rows:3,placeholder:"介绍一下自己吧（可选）"},null,8,["modelValue"])]),_:1}),e(s,null,{default:o(()=>[e(b,{type:"primary",size:"large",class:"register-button",loading:x(f).loading,onClick:w},{default:o(()=>[...l[12]||(l[12]=[g(" 注册 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),n("div",Q,[l[14]||(l[14]=n("span",null,"已有账号？",-1)),e(y,{to:"/login",class:"login-link"},{default:o(()=>[...l[13]||(l[13]=[g("立即登录",-1)])]),_:1})])])])}}},I=h(F,[["__scopeId","data-v-a4f7d6b9"]]);export{I as default};
